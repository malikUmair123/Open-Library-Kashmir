@model Open_Library_Kashmir.Models.ApplicationUser
@using Microsoft.AspNet.Identity

@{ ViewBag.Title = "User Details"; }

<main>
    <section class="row" aria-labelledby="title">
        <h1 id="title">Profile</h1>
    </section>
    <hr>

    <section>
        @if (Request.IsAuthenticated)
        {
            <section class="row" aria-labelledby="title">
                <h4>Hello @Model.FirstName! </h4>
            </section>

            <section class="col">
                <ul>

                    @if (!User.IsInRole("Admin") && !User.IsInRole("SuperAdmin"))
                    {
                        <li>
                            @Html.ActionLink("Profile Details", "DetailsUser", "Manage", new { }, htmlAttributes: new { title = "Update", @class = "btn btn-outline-dark" })
                        </li>
                    }

                    <li>
                        @Html.ActionLink("Manage Account", "Index", "Manage", null, new { id = "mamagelink", title = "Manage Settings", @class = "btn btn-outline-dark" })
                    </li>
                    <li>
                        @Html.ActionLink("Manage Wishlist", "Wishlist", "Donation", null, new { id = "mamagelink", title = "Manage Wishlist", @class = "btn btn-outline-dark" })
                    </li>
                    <li>
                        @Html.ActionLink("Request Status", "RequestStatus", "Donation", null, new { id = "orderstatus", title = "Order Status", @class = "btn btn-outline-dark" })
                    </li>
                    @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
                    {
                        @Html.AntiForgeryToken()
                        <li>
                            <a class="btn btn-outline-dark" href="javascript:document.getElementById('logoutForm').submit()">Log off</a>
                        </li>
                    }
                </ul>
            </section>

            <section class="col">
                @if (User.IsInRole("Admin") || User.IsInRole("SuperAdmin"))
                {
                    <h4>Admin Privileges:</h4>
                    <ul>
                        <li>
                            @Html.ActionLink("Profile Details", "Details", "UsersAdmin", new { id = User.Identity.GetUserId() }, htmlAttributes: new { title = "Update", @class = "btn btn-outline-dark" })
                        </li>
                        <li>
                            @Html.ActionLink("Manage Roles", "Index", "RolesAdmin", null, new { title = "Update", @class = "btn btn-outline-dark" })
                        </li>
                        <li>
                            @Html.ActionLink("Manage Users", "Index", "UsersAdmin", null, new { title = "Update", @class = "btn btn-outline-dark" })
                        </li>
                        <li>
                            @Html.ActionLink("Manage Books", "Index", "Books", null, new { title = "Manage Books", @class = "btn btn-outline-dark" })
                        </li>
                    </ul>
                }

            </section>
        }
        else
        {
            <ul>
                <li> @Html.ActionLink("Register", "Register", "Account", null, new { title = "Update", @class = "btn btn-outline-dark" }) </li>
                <li> @Html.ActionLink("Log in", "Login", "Account", null, new { title = "Login", @class = "btn btn-outline-dark" }) </li>
            </ul>
        }
    </section>
</main>
<hr>
<footer>
    <div>
        @Html.ActionLink("Go to Home", "Index", "Home")
    </div>
</footer>
